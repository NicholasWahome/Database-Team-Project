<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Facility and Student Management</title>
</head>
<body>
    <h1>Facility and Student Management System</h1>

    <style>
        /* CSS for the 3x3 grid layout */
        #createFormFacility {
            display: grid;
            grid-template-columns: repeat(10, 1fr);
            gap: 5px;
        }
    
        /* Adjust the width of the labels to align them properly */
        #createFormFacility label {
            grid-column: 1 / 4; /* Labels span three columns */
            width: 100%;
            max-width: 100px;
            text-align: right;
        }
    
        /* Adjust the size of the input boxes */
        #createFormFacility input[type="text"] {
            grid-column: 4 / 11; /* Input boxes span seven columns */
            width: 100%;
            max-width: 200px;
        }
    
        /* Adjust the position of the button */
        #createFormFacility button {
            grid-column: 1 / 3; /* Button spans all ten columns */
        }
    
        /* Adjust the description input width */
        #description {
            grid-column: 4 / 10; /* Description input spans six columns */
            width: 100%;
            max-width: 400px; /* Increase the max-width to accommodate the example placeholder */
        }
    </style>
    <!-- Create Facility Form -->
    <h2>Create Facility</h2>
    <div class="formWithListContainer">
        <form id="createFormFacility" action="mainpage.php" method="post">
            <label for="fID">Facility ID:</label>
            <input type="text" id="fID" name="fID" required placeholder="ex: 10">

            <label for="type">Type:</label>
            <input type="text" id="type" name="type" required placeholder="ex: Education or Management">

            <label for="description">Description:</label>
            <input type="text" id="description" name="description" required placeholder="ex: Primary, Secondary, Head Office or Management">

            <label for="facilityName">Facility Name:</label>
            <input type="text" id="facilityName" name="facilityName" required placeholder="ex: John Renny School">

            <label for="address">Address:</label>
            <input type="text" id="address" name="address" required placeholder="ex: 12345 rue something">

            <label for="city">City:</label>
            <input type="text" id="city" name="city" required placeholder="ex: Montreal">

            <label for="province">Province:</label>
            <input type="text" id="province" name="province" required placeholder="ex: QC">

            <label for="postalCode">Postal Code:</label>
            <input type="text" id="postalCode" name="postalCode" required placeholder="ex: H2L 1K2">

            <label for="phoneNumber">Phone Number:</label>
            <input type="text" id="phoneNumber" name="phoneNumber" required placeholder="ex: (514) 123-4567">

            <label for="webAddr">Web Address:</label>
            <input type="text" id="webAddr" name="webAddr" required placeholder="ex: http://hello@gv.qc.ca">

            <label for="capacity">Capacity:</label>
            <input type="text" id="capacity" name="capacity" required placeholder="ex: 100">

            <button type="submit" name="SubmitCreateFacility">Create Facility</button>
        </form>
   
        <!-- Display Facilities -->
        <div class="listContainer">
            <h2>Facilities List</h2>
            <ul id="facilitiesList">
            <!-- JavaScript will populate this list -->
            </ul>
        </div>
    </div>

    <!-- Edit and Delete Buttons for Facilities -->
    <h2>Edit / Delete Facility</h2>
    <form id="editDeleteFormFacilities">
        <label for="facilitiesSelect">Select Facility:</label>
        <select id="facilitiesSelect" name="facilitiesSelect">
            <!-- JavaScript will populate this dropdown -->
        </select>
        <button type="button" id="editfacilitiesButton">Edit Facility</button>
        <button type="button" id="deletefacilitiesButton">Delete Facility</button>
    </form>
    <style>
        /* CSS for the 3x3 grid layout */
        #addFormStudent {
            display: grid;
            grid-template-columns: repeat(10, 1fr);
            gap: 5px;
        }
    
        /* Adjust the width of the labels to align them properly */
        #addFormStudent label {
            grid-column: 1 / 4; /* Labels span three columns */
            width: 100%;
            max-width: 100px;
            text-align: right;
        }
    
        /* Adjust the size of the input boxes */
        #addFormStudent input[type="text"],
        #addFormStudent input[type="date"],
        #addFormStudent input[type="email"],
        #addFormStudent select {
            grid-column: 4 / 11; /* Input boxes span seven columns */
            width: 100%;
            max-width: 200px;
        }
    
        /* Adjust the position of the button */
        #addFormStudent button {
            grid-column: 1 / 3; /* Button spans all ten columns */
        }
    
        /* Adjust the jobTitleContainer input width */
        #jobTitleContainer {
            grid-column: 4 / 10; /* jobTitleContainer input spans six columns */
            width: 100%;
            max-width: 400px; /* Increase the max-width to accommodate the example placeholder */
        }
    </style>
    <!-- Create Student Form -->
     <h2>Add Student</h2>
     <div class="formWithListContainer">
        <form id="addFormStudent" action="mainpage.php" method="post">
        <label for="medicareID">Medicare ID:</label>
        <input type="text" id="medicareID" name="medicareID" required placeholder="ex: 12345678">

        <label for="firstName">First Name:</label>
        <input type="text" id="firstName" name="firstName" required placeholder="ex: John">

        <label for="lastName">Last Name:</label>
        <input type="text" id="lastName" name="lastName" required placeholder="ex: Doe">

        <label for="dOB">Date of Birth:</label>
        <input type="date" id="dOB" name="dOB" required placeholder="ex: 2018-02-21">

        <label for="MedicareExpiryDate">Medicare Expiry Date:</label>
        <input type="date" id="MedicareExpiryDate" name="MedicareExpiryDate" required placeholder="ex: 2023-02-21">

        <label for="phone">Phone Number:</label>
        <input type="text" id="phone" name="phone" required placeholder="ex: (514) 123-4567">

        <label for="address">Address:</label>
        <input type="text" id="address" name="address" required placeholder="ex: 12345 rue something">

        <label for="city">City:</label>
        <input type="text" id="city" name="city" required placeholder="ex: Montreal">

        <label for="province">Province:</label>
        <input type="text" id="province" name="province" required placeholder="ex: QC">

        <label for="postalCode">Postal Code:</label>
        <input type="text" id="postalCode" name="postalCode" required placeholder="ex: H2L 1K2">

        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required placeholder="ex: example1@gmail.com">

        <button type="submit" name="SubmitAddStudent">Add Student</button>
        </form>


        <!-- Display Students -->
        <div class="listContainer">
            <h2>Students List</h2>
            <ul id="studentsList">
            <!-- JavaScript will populate this list -->
            </ul>
        </div>
    </div>
    <!-- Edit and Delete Buttons for Students -->
    <h2>Edit / Delete Student</h2>
    <form id="editDeleteFormStudent">
        <label for="studentSelect">Select Student:</label>
        <select id="studentSelect" name="studentSelect">
            <!-- JavaScript will populate this dropdown -->
        </select>
        <button type="button" id="editStudentButton">Edit Student</button>
        <button type="button" id="deleteStudentButton">Delete Student</button>
    </form>


    <style>
        /* CSS for the 3x3 grid layout */
        #addFormEmployee {
            display: grid;
            grid-template-columns: repeat(10, 1fr);
            gap: 5px;
        }
    
        /* Adjust the width of the labels to align them properly */
        #addFormEmployee label {
            grid-column: 1 / 4; /* Labels span three columns */
            width: 100%;
            max-width: 100px;
            text-align: right;
        }
    
        /* Adjust the size of the input boxes */
        #addFormEmployee input[type="text"],
        #addFormEmployee input[type="date"],
        #addFormEmployee input[type="email"],
        #addFormEmployee input[type="jobTitle"],
        #addFormEmployee select {
            grid-column: 4 / 11; /* Input boxes span seven columns */
            width: 100%;
            max-width: 200px;
        }
    
        /* Adjust the position of the button */
        #addFormEmployee button {
            grid-column: 1 / 3; /* Button spans all ten columns */
        }
    </style>

    <!-- Create Employee Form -->
    <h2>Add Employee</h2>
    <div class="formWithListContainer">
        <form id="addFormEmployee" action="mainpage.php" method="post">
            <label for="medicareID">Medicare ID:</label>
            <input type="text" id="medicareID" name="medicareID" required placeholder="ex: 12345678">
        
            <label for="firstName">First Name:</label>
            <input type="text" id="firstName" name="firstName" required placeholder="ex: John">
        
            <label for="lastName">Last Name:</label>
            <input type="text" id="lastName" name="lastName" required placeholder="ex: Doe">
        
            <label for="dOB">Date of Birth:</label>
            <input type="date" id="dOB" name="dOB" required placeholder="ex: 2018-02-21">
        
            <label for="MedicareExpiryDate">Medicare Expiry Date:</label>
            <input type="date" id="MedicareExpiryDate" name="MedicareExpiryDate" required placeholder="ex: 2023-02-21">
        
            <label for="phone">Phone Number:</label>
            <input type="text" id="phone" name="phone" required placeholder="ex: (514) 123-4567">
        
            <label for="address">Address:</label>
            <input type="text" id="address" name="address" required placeholder="ex: 12345 rue something">
        
            <label for="city">City:</label>
            <input type="text" id="city" name="city" required placeholder="ex: Montreal">
        
            <label for="province">Province:</label>
            <input type="text" id="province" name="province" required placeholder="ex: QC">
        
            <label for="postalCode">Postal Code:</label>
            <input type="text" id="postalCode" name="postalCode" required placeholder="ex: H2L 1K2">
        
            <label for="email">Email:</label>
            <input type="email" id="email" name="email" required placeholder="ex: example2@gmail.com">

            <label for="jobTitle">Job Title:</label>
            <input type="text" id="jobTitle" name="jobTitle" placeholder="ex: security">


            <button type="submit" name="SubmitAddEmployee">Add Employee</button>
        </form>
    
        <!-- Display Employees -->
        <div class="listContainer">
            <h2>Employees List</h2>
            <ul id="employeesList">
            <!-- JavaScript will populate this list -->
            </ul>
        </div>
    </div>

    <style>
        /* Your existing CSS... */
        /* Additional CSS for the list containers on the RHS */
        .formWithListContainer {
            display: flex;
            flex-wrap: wrap; /* Allow items to wrap to the next line if there's not enough space */
            gap: 20px;
            margin-bottom: 30px;
        }
    
        .listContainer {
            flex-basis: calc(50% - 20px); /* Set a width for the list containers (half the available space minus the gap) */
            max-height: 300px; /* Set a maximum height to prevent the lists from becoming too large */
            overflow-y: auto;
            border: 1px solid #ccc;
            background-color: #fff;
            padding: 10px;
        }
    
        /* Adjust the size of the input boxes for employee jobTitle */
        #addFormEmployee input[type="jobTitle"] {
            grid-column: 4 / 11; /* Input box spans seven columns */
            width: 100%;
            max-width: 200px;
        }
    </style>
    <!-- Edit and Delete Buttons for employee -->
    <h2>Edit / Delete Employee</h2>
    <form id="editDeleteFormEmployees">
        <label for="employeesSelect">Select Employee:</label>
        <select id="employeesSelect" name="employeesSelect">
            <!-- JavaScript will populate this dropdown -->
        </select>
        <button type="button" id="editEmployeesButton" name="editEmployeesButton">Edit Employee</button>
        <button type="button" id="deleteEmployeesButton" name="deleteEmployeesButton">Delete Employee</button>
    </form>


       <!-- New Infection Form -->
    <h2>New Infection</h2>
    <form id="newInfectionForm" action="mainpage.php" method="post">
        <label for="medicareID">Medicare ID:</label>
        <input type="text" id="medicareID" name="medicareID" required placeholder="ex: 12345678">

        <label for="infectionName">Infection Name:</label>
        <select id="infectionName" name="infectionName" required>
            <option value="">Select an Infection</option>
            <!-- JavaScript will populate this dropdown -->
        </select>

        <label for="infectionDate">Infection Date:</label>
        <input type="date" id="infectionDate" name="infectionDate" required placeholder="ex: 2023-08-03">

        <button type="submit" name="SubmitNewInfection">Add Infection</button>
    </form>

    <!-- New Vaccine Form -->
    <h2>New Vaccination</h2>
    <form id="newVaccineForm" action="mainpage.php" method="post">
        <label for="medicareID">Medicare ID:</label>
        <input type="text" id="medicareID" name="medicareID" required placeholder="ex: 12345678">

        <label for="vaccineName">Vaccine Name:</label>
        <select id="vaccineName" name="vaccineName" required>
            <option value="">Select a Vaccine</option>
            <!-- JavaScript will populate this dropdown -->
         </select>

         <label for="numDose">Number of Doses:</label>
         <input type="number" id="numDose" name="numDose" required placeholder="ex: 2">

         <label for="vaccineDate">Vaccine Date:</label>
         <input type="date" id="vaccineDate" name="vaccineDate" required placeholder="ex: 2023-08-03">

         <button type="submit" name="SubmitNewVaccination">Add Vaccination</button>
    </form>
    <script>
        // Sample data for facilities and students (replace this with actual data)
        const facilities = [
                { id: 1, name: "Facility 1" },
                { id: 2, name: "Facility 2" },
                { id: 3, name: "Facility 3" }
        ];

        const students = [
                { id: 1, name: "Student 1", facilityId: 1 },
                { id: 2, name: "Student 2", facilityId: 2 },
                { id: 3, name: "Student 3", facilityId: 1 }
        ];
        // Sample data for employee (replace this with actual data)
                const employees = [
                { id: 1, firstName: "Employee 1", lastName: "Employee Last Name 1", jobTitle: "Manager" },
                { id: 2, firstName: "Employee 2", lastName: "Employee Last Name 2", jobTitle: "Secretary" },
                { id: 3, firstName: "Employee 3", lastName: "Employee Last Name 3", jobTitle: "Supervisor" }
        ];

            // Sample data for vaccines (replace this with actual data from the database)
        const vaccines = [
                { id: 1, name: "Pfizer-BioNTech" },
                { id: 2, name: "Moderna" },
                { id: 3, name: "Johnson & Johnson" }
        ];
            // Sample data for infections (replace this with actual data from the database)
        const infections = [
                { id: 1, name: "COVID-19" },
                { id: 2, name: "Influenza" },
                { id: 3, name: "Common Cold" }
        ];

        
        const createFormFacility = document.getElementById("createFormFacility");
        const editfacilitiesButton = document.getElementById("editfacilitiesButton");
        const deletefacilitiesButton = document.getElementById("deletefacilitiesButton");
        const facilitiesList = document.getElementById("facilitiesList");
        const addFormStudent = document.getElementById("addFormStudent");
        const studentsList = document.getElementById("studentsList");
        const facilitySelectStudent = document.getElementById("facilitySelectStudent");
        const studentSelect = document.getElementById("studentSelect");
        const editStudentButton = document.getElementById("editStudentButton");
        const deleteStudentButton = document.getElementById("deleteStudentButton");
        const addFormEmployee = document.getElementById("addFormEmployee");
        const employeesList = document.getElementById("employeesList");
        const employeeSelect = document.getElementById("employeesSelect");
        const editEmployeeButton = document.getElementById("editEmployeesButton");
        const deleteEmployeeButton = document.getElementById("deleteEmployeesButton");
        const newVaccineForm = document.getElementById("newVaccineForm");
        const newInfectionForm = document.getElementById("newInfectionForm");

                            // Function to populate facilities list
                function populateFacilitiesList() {
                    facilitiesList.innerHTML = "";
                    facilities.forEach(facility => {
                        const listItem = document.createElement("li");
                        listItem.textContent = `${facility.id}:  ${facility.name}`;
                        facilitiesList.appendChild(listItem);
                    });
                }

                // Function to populate students list
                function populateStudentsList() {
                    studentsList.innerHTML = "";
                    students.forEach(student => {
                        const listItem = document.createElement("li");
                        listItem.textContent = `${student.id}:  ${student.name}`;
                        studentsList.appendChild(listItem);
                    });
                }

                // Function to populate employees list
                function populateEmployeesList() {
                    employeesList.innerHTML = "";
                    employees.forEach(employee => {
                        const listItem = document.createElement("li");
                        listItem.textContent = `${employee.id}:   ${employee.firstName} ${employee.lastName}     Works As: ${employee.jobTitle}`;
                        employeesList.appendChild(listItem);
                    });
                }
            // Function to populate vaccines dropdown
            function populateVaccinesDropdown() {
                const vaccineDropdown = document.getElementById("vaccineName");
                vaccines.forEach(vaccine => {
                    const option = document.createElement("option");
                    option.value = vaccine.id;
                    option.textContent = vaccine.name;
                    vaccineDropdown.appendChild(option);
                });
            }

            // Function to populate infections dropdown
            function populateInfectionsDropdown() {
                const infectionDropdown = document.getElementById("infectionName");
                infections.forEach(infection => {
                    const option = document.createElement("option");
                    option.value = infection.id;
                    option.textContent = infection.name;
                    infectionDropdown.appendChild(option);
                });
            }

                        // Event listener for form submission
                createFormFacility.addEventListener("submit", function (event) {
                    event.preventDefault(); // Prevent the form from submitting

                    // Get the input values from the form
                    const facilityId = document.getElementById("fID").value;
                    const facilityName = document.getElementById("facilityName").value;

                    // Create a new facility object with the input values
                    const newFacility = { id: facilityId, name: facilityName };

                    // Add the new facility to the facilities array
                    facilities.push(newFacility);

                    // Clear the form inputs
                    createFormFacility.reset();

                    // Repopulate the facilities list and dropdown with the updated data
                    populateFacilitiesList();
                    populateFacilitiesDropdown();
                });
                        // Event listener for student form submission
                    addFormStudent.addEventListener("submit", function (event) {
                        event.preventDefault(); // Prevent the form from submitting

                        // Get the input values from the form
                        const firstName = document.getElementById("firstName").value;
                        const lastName = document.getElementById("lastName").value;

                        // Create a new student object with the input values
                        const newStudent = { id: students.length + 1, name: firstName + " " + lastName };

                        // Add the new student to the students array
                        students.push(newStudent);

                        // Clear the form inputs
                        addFormStudent.reset();

                        // Repopulate the students list and dropdown with the updated data
                        populateStudentsList();
                        populateStudentsDropdown();
                    });

                    // Event listener for employee form submission
                addFormEmployee.addEventListener("submit", function (event) {
                    event.preventDefault(); // Prevent the form from submitting

                    // Get the input values from the form
                    const firstName = document.getElementById("firstName").value;
                    const lastName = document.getElementById("lastName").value;
                    const jobTitle = document.getElementById("jobTitle").value;

                    // Create a new employee object with the input values
                    const newEmployee = { id: employees.length + 1, firstName, lastName, jobTitle };

                    // Add the new employee to the employees array
                    employees.push(newEmployee);

                    // Clear the form inputs
                    addFormEmployee.reset();

                    // Repopulate the employees list and dropdown with the updated data
                    populateEmployeesList();
                    populateEmployeesDropdown();
                });

                                    // Function to handle facility edit prompt
                                // Function to handle facility edit prompt
                function editFacility() {
                    const facilityId = document.getElementById("facilitiesSelect").value;
                    const facility = facilities.find(facility => facility.id == facilityId);

                    if (facility) {
                        const newName = prompt("Enter the new Facility Name:");
                        facility.name = newName;
                        populateFacilitiesList();
                        populateFacilitiesDropdown(); // Update the facilities dropdown
                    } else {
                        alert("Facility not found!");
                    }
                }

                // Function to handle student edit prompt
                function editStudent() {
                    const studentId = document.getElementById("studentSelect").value;
                    const student = students.find(student => student.id == studentId);

                    if (student) {
                        const newFirstName = prompt("Enter the new First Name:");
                        const newLastName = prompt("Enter the new Last Name:");
                        student.name = newFirstName + " " + newLastName;
                        populateStudentsList();
                        populateStudentsDropdown(); // Update the students dropdown
                    } else {
                        alert("Student not found!");
                    }
                }

                // Function to handle employee edit prompt
                function editEmployee() {
                    const employeeId = document.getElementById("employeesSelect").value;
                    const employee = employees.find(employee => employee.id == employeeId);

                    if (employee) {
                        const newFirstName = prompt("Enter the new First Name:");
                        const newLastName = prompt("Enter the new Last Name:");
                        const newJobTitle = prompt("Enter the new Job Title:");
                        employee.firstName = newFirstName;
                        employee.lastName = newLastName;
                        employee.jobTitle = newJobTitle;
                        populateEmployeesList();
                        populateEmployeesDropdown(); // Update the employees dropdown
                    } else {
                        alert("Employee not found!");
                    }
                }

                            // Function to populate facilities dropdown for editing
                function populateFacilitiesDropdown() {
                    const facilitySelectDropdown = document.getElementById("facilitiesSelect");
                    facilitySelectDropdown.innerHTML = "";
                    facilities.forEach(facility => {
                        const option = document.createElement("option");
                        option.value = facility.id;
                        option.textContent = facility.name;
                        facilitySelectDropdown.appendChild(option);
                    });
                }

                            // Function to populate students dropdown for editing
                function populateStudentsDropdown() {
                    const studentSelectDropdown = document.getElementById("studentSelect");
                    studentSelectDropdown.innerHTML = "";
                    students.forEach(student => {
                        const option = document.createElement("option");
                        option.value = student.id;
                        option.textContent = student.name;
                        studentSelectDropdown.appendChild(option);
                    });
                }

                // Function to populate employees dropdown for editing
                function populateEmployeesDropdown() {
                    const employeeSelectDropdown = document.getElementById("employeesSelect");
                    employeeSelectDropdown.innerHTML = "";
                    employees.forEach(employee => {
                        const option = document.createElement("option");
                        option.value = employee.id;
                        option.textContent = employee.firstName + " " + employee.lastName;
                        employeeSelectDropdown.appendChild(option);
                    });
                }

                                    // Function to handle facility delete prompt
                    function deleteFacility() {
                        const facilityId = document.getElementById("facilitiesSelect").value;
                        const facilityIndex = facilities.findIndex(facility => facility.id == facilityId);

                        if (facilityIndex !== -1) {
                            facilities.splice(facilityIndex, 1);
                            populateFacilitiesList();
                            populateFacilitiesDropdown(); // Update the facilities dropdown
                        } else {
                            alert("Facility not found!");
                        }
                    }

                    // Function to handle student delete prompt
                    function deleteStudent() {
                        const studentId = document.getElementById("studentSelect").value;
                        const studentIndex = students.findIndex(student => student.id == studentId);

                        if (studentIndex !== -1) {
                            students.splice(studentIndex, 1);
                            populateStudentsList();
                            populateStudentsDropdown(); // Update the students dropdown
                        } else {
                            alert("Student not found!");
                        }
                    }

                    // Function to handle employee delete prompt
                    function deleteEmployee() {
                        const employeeId = document.getElementById("employeesSelect").value;
                        const employeeIndex = employees.findIndex(employee => employee.id == employeeId);

                        if (employeeIndex !== -1) {
                            employees.splice(employeeIndex, 1);
                            populateEmployeesList();
                            populateEmployeesDropdown(); // Update the employees dropdown
                        } else {
                            alert("Employee not found!");
                        }
                    }
                                    


                // Event listener for facility edit button
                editfacilitiesButton.addEventListener("click", editFacility);

                // Event listener for student edit button
                editStudentButton.addEventListener("click", editStudent);

                // Event listener for employee edit button
                editEmployeeButton.addEventListener("click", editEmployee);

                            // Event listener for facility edit button
                editfacilitiesButton.addEventListener("click", editFacility);

                // Event listener for student edit button
                editStudentButton.addEventListener("click", editStudent);

                // Event listener for employee edit button
                editEmployeeButton.addEventListener("click", editEmployee);

                                // Event listener for facility delete button
                deletefacilitiesButton.addEventListener("click", deleteFacility);

                // Event listener for student delete button
                deleteStudentButton.addEventListener("click", deleteStudent);

                // Event listener for employee delete button
                deleteEmployeeButton.addEventListener("click", deleteEmployee);

                        // Populate the lists and dropdowns when the page loads
                populateFacilitiesList();
                populateStudentsList();
                populateEmployeesList();
                populateVaccinesDropdown();
                populateInfectionsDropdown();
                populateFacilitiesDropdown();
                populateStudentsDropdown();
                populateEmployeesDropdown();
    </script>
</body>
</html>
